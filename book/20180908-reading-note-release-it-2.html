<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="发布!软件的设计与部署">
    

    <!--Author-->
    
        <meta name="author" content="Viking Warlock">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="透明度、适应"/>
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="发布!软件的设计与部署" />
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="VikingWarlock"/>

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <!--Page Cover-->
    

    
        <meta name="twitter:card" content="summary" />
    
    
    

    <!-- Title -->
    
    <title>透明度、适应 - VikingWarlock</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/style.css">


    <!-- Google Analytics -->
    


<meta name="generator" content="Hexo 5.4.2"></head>


<body>

<div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- Menu -->
<!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    Home
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/archives">
                    Archives
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/about.html">
                    About
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/tags">
                    Tags
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/categories">
                    Categories
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/contact.html">
                    Contact
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Hamburger Icon-->
<nav>
    <a href="#menu"></a>
</nav>

<div class="container">

    <!-- Main Content -->
    <div class="row">
    <div class="col-sm-12">

        <!--Title and Logo-->
        <header>
    <div class="logo">
        <a href="/"><i class="logo-icon fa fa-cube" aria-hidden="true"></i></a>
        
    </div>
</header>

        <section class="main">
            
<div class="post">

    <div class="post-header">
        <h1 class="title">
            <a href="/book/20180908-reading-note-release-it-2.html">
                透明度、适应
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2018-09-08</span>
            
            
            
                <span class="category">
                    <a href="/categories/book/">书记</a>
                </span>
            
        </div>
    </div>

    <div class="content">

        <!-- Gallery -->
        

        <!-- Post Content -->
        <h3 id="Context"><a href="#Context" class="headerlink" title="Context"></a>Context</h3><p>《发布!软件的设计与部署》这本书终于读完了，不过我感觉我现在的水平还有很多内容没有理解。所以这本书，我总还要找机会搞来的！</p>
<h3 id="Chapter"><a href="#Chapter" class="headerlink" title="Chapter"></a>Chapter</h3><p>这剩下的两节都是第四部分:运营 的内容，帮助</p>
<h4 id="透明度"><a href="#透明度" class="headerlink" title="透明度"></a>透明度</h4><p><code>透明性是指这样一种特性，它能让操作员、开发者和商业赞助商理解系统的历史趋势、当前状态、瞬间状态和未来设想</code></p>
<p>如果系统的透明性很差，那么即便我们发现系统出现了异常或者故障，也很难快速的找到问题的根源。按照我的猜想，透明性大概就是在系统的各种关键点(继承点)增加控制接口、log记录等。因为在遇到问题的时候，知道的信息越多，定位问题越方便；组件提供的接口越多，操作起来越方便。</p>
<p>想一下，如果好不容易发现了问题，结果这个问题的解决方法只能通过修改系统代码(更新软件)来解决，那实在是太痛苦了；如果一个系统中很多的操作都是根据配置文件来确定的，那只要修改了配置文件，并重启服务(软件)，那么问题就解决了，岂不是爽歪歪。</p>
<p><code>没有透明性的系统不能在生产中长期存在。如果管理员不知道它正在做什么，就不能调整和优化。如果开发者不知道在生产环境中什么能行什么不行，就不能对它进行增强和更新</code></p>
<p>这一章从4个层次解释了透明性：历史趋势、未来预测、当前状态、瞬间行为。</p>
<p><code>历史趋势</code>很有意思，作为一个初等程序员，对于历史问题，我可能只会关心什么时候产生错误警告，错误警告产生的原因，触发条件这些东西。而资深架构师运营经理总是可以问一些小白、普通程序员不会想到的问题。比如：我们昨天有多少订单；第一季度我们使用了多少磁盘空间；过去三年顾客流量的增加和CPU使用率增加相比的结果～</p>
<p>当我们觉得没有看到警告，没有看到错误就心满意足的时候，他们总是可以想的更加长远(现在我也可以想的更长远啦～)</p>
<p><code>当前状态</code>简单说，就是要给出足够的数据来反映系统运行的状态，产生了多少报警，多少异常，内存用了多少，还剩多少，线程数量，可用线程、繁忙线程、等等等等。不能让系统运行的像个薛定谔的猫一样。说到这里，作者也提到了日志的规范性，不能说有了日志就大功告成了，日志要分级，要有良好的格式，让人阅读的方便。不然几万几万的日志，即使知道关键内容在里面，也会让人失去探索的兴趣。</p>
<h4 id="适应"><a href="#适应" class="headerlink" title="适应"></a>适应</h4><p>适应性差不多就是兼容性的意思。系统在不断的被完善，老用户如何适应新系统，新系统如何适应老用户。开发人员如何用更低的成本去维护系统，去更新系统。这就是这一章的主要内容。</p>
<p><code>依赖注入</code>,<code>对象设计</code>,<code>极限编程实践</code>,<code>敏捷数据库</code>，这是适应性软件设计的四个方法。简单的说他们都在鼓励松耦合，高内聚，提高向下兼容的能力。</p>
<p><code>发布应无害</code> 讲到了’部署成本太高<code>，</code>零停机时间部署`和其他的几点。这两点单独拿出来说，是因为，颠覆了我的认知～</p>
<p>本以为部署一个系统多容易啊，改了新的代码，重启服务即可，有什么成本呢？实际上专业的团队在部署的时候，需要创建发布分支，发布说明文档，与营销沟通，计划执行验证部署，后续的技术支持。这些都是人力成本～</p>
<p>平时看到停机维护的情况比较多，所以对<code>零停机时间部署</code>这个概念还是比较好奇的。说的是，部署行版本，可以一步一步慢慢来，按阶段分解部署，不是立刻添加改变删除一些东西。增加各种兼容性。</p>
<h3 id="Addition"><a href="#Addition" class="headerlink" title="Addition"></a>Addition</h3><p>上一篇中没有说到 <code>快速失效</code> ，在第18章《适应》中讲到了一个例子，让我猛的想起了这个有用的设计～</p>
<p>比如，一个请求，我们其实早就知道，这个操作可能要出现错误了，却还是让请求做到了出现异常的时候，才反馈。就相当于客户白等了很久得知，自己想做的事情不能被达成。所以快速失效可以相当于做一些中间件吧～提前做一些处理，早就知道要失败了，就直接返回，不再继续执行操作。</p>
<h3 id="End"><a href="#End" class="headerlink" title="End"></a>End</h3><p>这本书终于读完了，我肯定还会再搞来的！现在觉得一些书看不懂，没意思，说不定并不是书的问题，而是自己段位太低了～哈哈</p>
<p>(每次写一篇博客，都会晚睡一次～)</p>

    </div>

    

    
        <div class="post-tags">
            <i class="fa fa-tags" aria-hidden="true"></i>
            <a href="/tags/note/">#笔记</a>
        </div>
    

    <!-- Comments -->
    

</div>
        </section>

    </div>
</div>


</div>

<!-- Footer -->
<div class="push"></div>

<footer class="footer-content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about">
                <h2>About</h2>
                <p>
                    This theme was developed by <a target="_blank" rel="noopener" href="https://github.com/klugjo">Jonathan Klughertz</a>. The source code is available on Github. Create Websites. Make Magic.
                </p>
            </div>
            
    <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 recent-posts">
        <h2>Recent Posts</h2>
        <ul>
            
            <li>
                <a class="footer-post" href="/life/20230123-2023-reconciliation.html">2023 reconciliation</a>
            </li>
            
            <li>
                <a class="footer-post" href="/life/20220206-2022-noname.html">2021 roll king</a>
            </li>
            
            <li>
                <a class="footer-post" href="/life/20210211-2021-what-a-tough-year.html">重启2020</a>
            </li>
            
            <li>
                <a class="footer-post" href="/life/20200121-2020-enbrace-change.html">2020唯一不变的是变化</a>
            </li>
            
        </ul>
    </div>



            
<div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 footer-categories">
    <h2>Categories</h2>
    <ul>
        
        <li>
            <a class="footer-post" href="/categories/hack/">黑科技</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/book/">书记</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/wtf/">什么鬼</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/study/">学习</a>
        </li>
        
    </ul>
</div>

        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://github.com/klugjo/hexo-theme-alpha-dust">
                            <span class="footer-icon-container">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://twitter.com/?lang=en">
                            <span class="footer-icon-container">
                                <i class="fa fa-twitter"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://www.facebook.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-facebook"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://www.instagram.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-instagram"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://dribbble.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-dribbble"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://telegram.org/">
                            <span class="footer-icon-container">
                                <i class="fa fa-telegram"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://www.behance.net/">
                            <span class="footer-icon-container">
                                <i class="fa fa-behance"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://500px.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-500px"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="mailto:test@example.com">
                            <span class="footer-icon-container">
                                <i class="fa fa-envelope-o"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="\#">
                            <span class="footer-icon-container">
                                <i class="fa fa-rss"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    @Untitled. All right reserved | Design & Hexo <a target="_blank" rel="noopener" href="http://www.codeblocq.com/">Jonathan Klughertz</a>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- After footer scripts -->

<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Tween Max -->
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JavaScript -->

<script src="/js/main.js"></script>


<!-- Disqus Comments -->



</body>

</html>